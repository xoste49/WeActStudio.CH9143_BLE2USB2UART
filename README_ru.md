* [English Version](./README.md)
* [中文版本](./README_zh.md)
# WeActStudio.CH9143_BLE2USB2UART
![display](Images/1.png)
CH9143 - это трёхполюсный чип BLE/UART/USB, который обеспечивает передачу данных между Bluetooth, USB и последовательными портами. Bluetooth поддерживает режим хоста, режим ведомого и комбинированный режим мастер-ведомый. Связь Bluetooth и параметры могут быть настроены в режиме ведомого и комбинированном режиме мастер-ведомый, поддерживает BLE4.2. Последовательный порт поддерживает конфигурацию AT команд, поддерживает сигналы контакта MODEM и имеет максимальную скорость передачи 1 Мбит/с. В то же время это позволяет реализовать онлайн-отладку или мониторинг данных между USB-интерфейсом компьютера, последовательным портом и Bluetooth.
Официальный сайт WCH: www.wch.cn(zh-CN) / www.wch-ic.com(en)  
## Описание функций
`Одна плата` может использоваться как модуль USB-последовательный порт и модуль Bluetooth-последовательный порт. Для модуля Bluetooth-последовательный порт WCH предоставляет программное обеспечение виртуального последовательного порта `BleComWin`. Если компьютер поддерживает подключение BLE, вы можете создать виртуальный COM-порт без подключения USB. Кроме того, существует программное обеспечение последовательного порта BLE для WeChat мини-приложения, Android, IOS, Linux, Windows, называемое `BleUart`, которое обеспечивает автоматический поиск, подключение и отключение устройств BLE последовательного порта, параметры установки последовательного порта, операции MODEM, функции чтения и записи последовательного порта. Максимальная скорость передачи составляет 1 Мбит/с.  
`Две платы` для реализации функции беспроводного последовательного порта с максимальной скоростью передачи 1 Мбит/с.  
>> `BleComWin` и `BleUart` см. в папке `Softs`
### Режим ведомого
В режиме ведомого чип отправляет фиксированные данные трансляции. Имя трансляции по умолчанию - `CH9143BLE2U`, интервал трансляции - 100 мс. Ведомый поддерживает четыре базовых сервиса Bluetooth, из которых UUID сквозного сервиса составляет 0xFFF0.
### Режим мастер-ведомый
В режиме мастер-ведомый хозяин и ведомый Bluetooth работают одновременно. Когда одна роль подключается к другому Bluetooth, другая роль будет остановлена. Следует отметить, что в качестве хозяина Bluetooth чип CH9143 может подключаться только к другим чипам Bluetooth WCH.
### Функция умного сопряжения
Когда CH9143 находится в режиме мастер/ведомый, CH914x может быть сопряжен с определённым чипом CH914X без ввода MAC-адреса путём запуска AT команды. После сопряжения чип CH9143 привязывается друг к другу и не требует повторного сопряжения. Процесс сопряжения выглядит следующим образом:  
1. CH9143 находится в режиме мастер-ведомый. CH9143 находится в режиме ведомого или мастер-ведомый.
2. Включите обе стороны в течение 3 с.
3. Если индикатор мигает три раза, а затем остаётся включённым, сопряжение успешно.  
Если вам нужно переустановить пару, вам необходимо пройти процесс сопряжения снова. Разница в том, что индикатор на шаге 3 быстро мигает. В этом случае вы можете переустановить пару, включив любой конец.
## Описание интерфейса
### Интерфейс 6 Pin SH1.0
|PIN|Описание|
|:--:|:--|
|GND|Сигнальная/силовая земля|
|RXD|Прием последовательного порта (вход, уровень 3,3 В)|
|TXD|Передача последовательного порта (выход, уровень 3,3 В)|
|TNOW|Вывод состояния отправки данных последовательного порта, активный уровень высокий|
|3V3|Выход питания 3,3 В|
|5V|Выход питания 5 В|

### DIP переключатель AT/BLEMODE
|№|Описание|
|:--:|:--|
|A|ВКЛ, режим AT включен|
|B|ВКЛ, режим ведомого включен|

### Кнопка RELOAD
Нажмите кнопку RELOAD перед включением и отпустите её через 3 секунды, чтобы восстановить заводские параметры. Индикаторная лампочка не будет гореть во время этого процесса.  
* Когда две платы необходимо сопрячь, рекомендуется зафиксировать одну из плат в режиме ведомого через DIP переключатель `AT/BLEMODE`. Когда вам нужно разорвать сопряжение, просто восстановите хозяина.
* Когда две платы находятся в режиме мастер-ведомый и требуется разорвать сопряжение, невозможно определить, какая плата является хозяином, а какая - ведомой, поэтому обе платы должны быть восстановлены до заводских параметров. На самом деле, если вы знаете, кто хозяин, просто восстановите хозяина.

### Синий свет
|№|Статус|Описание|
|:--:|:--|:--|
|1|Три быстрых вспышки после включения|Находится в режиме ведомого|
|2|Две быстрые вспышки через 3 после включения|Система работает в режиме мастер-ведомый|
|3|Медленное мигание с интервалом 500 мс|Текущий статус трансляции|
|4|Включено|Текущий статус соединения|
|5|Быстрые вспышки в статусе соединения|Идёт передача данных|
|6|Быстрые вспышки во время сопряжения|Сопряжено с другим устройством, требуется повторное включение для завершения сопряжения|

## Описание директорий
|Название директории|Содержимое|
|:--:|:--|
|Doc|Техническое руководство/Справочное руководство|
|Hardware|Аппаратное обеспечение|
|Drivers|Драйверы|
|Softs|SDK и программное обеспечение|

```
/*---------------------------------------
- Официальная ссылка WeAct Studio
- taobao: weactstudio.taobao.com
- aliexpress: weactstudio.aliexpress.com
- github: github.com/WeActStudio
- gitee: gitee.com/WeAct-TC
- blog: www.weact-tc.cn
---------------------------------------*/
```
